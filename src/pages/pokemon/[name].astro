---
import { defaultLocale } from '@/utils/i18n'
import { fetchAllPokemonNames } from '@utils/pokemon'

export async function getStaticPaths() {
  const pokemonNames = await fetchAllPokemonNames()
  return pokemonNames.map((name) => ({ params: { name } }))
}

const { name = '' } = Astro.params

// Redirect to the localized version
return Astro.redirect(`/${defaultLocale}/pokemon/${name}`, 307)
---
