---
export const prerender = true

import { fetchPokemonCount } from '@utils/pokemon'
import Layout from '@/layouts/Layout.astro'

const totalPokemon = await fetchPokemonCount()

// Pokemon types available in the API
const pokemonTypes = [
  'normal', 'fire', 'water', 'electric', 'grass', 'ice',
  'fighting', 'poison', 'ground', 'flying', 'psychic', 'bug',
  'rock', 'ghost', 'dragon', 'dark', 'steel', 'fairy'
]

// Pokemon generations
const generations = [
  { name: 'Generation I', region: 'Kanto' },
  { name: 'Generation II', region: 'Johto' },
  { name: 'Generation III', region: 'Hoenn' },
  { name: 'Generation IV', region: 'Sinnoh' },
  { name: 'Generation V', region: 'Unova' },
  { name: 'Generation VI', region: 'Kalos' },
  { name: 'Generation VII', region: 'Alola' },
  { name: 'Generation VIII', region: 'Galar' },
  { name: 'Generation IX', region: 'Paldea' },
]

// Fun Pokemon facts
const funFacts = [
  "Pikachu was originally going to be called 'Pikachuu' before it was shortened",
  "Rhydon was the first Pok√©mon ever created and designed",
  "Ditto and Mew share the same color palette and weight‚Äîa sign of their possible connection",
  "The Pok√©mon anime has been running for over 25 years with more than 1,000 episodes",
  "There are more Pok√©mon species than there are countries in the world",
]

const randomFact = funFacts[Math.floor(Math.random() * funFacts.length)]
---

<Layout title="Pok√©mon Astro - Explore the Pok√©dex">
  <div class="space-y-16 pb-16">
    <!-- Hero Section -->
    <section class="text-center space-y-6 pt-8">
      <h1 class="text-5xl md:text-7xl font-bold bg-gradient-to-r from-[#3466AF] via-purple-500 to-pink-500 bg-clip-text text-transparent">
        Explore the World of Pok√©mon
      </h1>
      <p class="text-lg md:text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
        Discover detailed information about all {totalPokemon.toLocaleString()} Pok√©mon species,
        their stats, types, abilities, and evolutions.
      </p>
      <div>
        <a
          href="/pokedex"
          class="inline-block px-8 py-4 text-lg font-semibold text-white rounded-xl bg-gradient-to-r from-[#3466AF] to-purple-600 hover:from-[#2855a0] hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-2xl hover:scale-105"
        >
          View Full Pok√©dex ‚Üí
        </a>
      </div>
    </section>

    <!-- Bento Grid Statistics -->
    <section class="space-y-6">
      <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900 dark:text-white">By the Numbers</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
        <!-- Total Pokemon -->
        <div class="col-span-2 md:col-span-2 bg-gradient-to-br from-[#3466AF] to-purple-600 border-2 border-[#3466AF]/30 dark:border-[#3466AF]/50 rounded-2xl p-8 md:p-12 hover:border-[#3466AF]/60 dark:hover:border-[#3466AF]/80 transition-all duration-300 hover:scale-[1.02] shadow-lg hover:shadow-2xl">
          <div class="space-y-2">
            <p class="text-white/90 text-sm md:text-base uppercase tracking-wider font-semibold">Total Pok√©mon</p>
            <p class="text-6xl md:text-8xl font-black text-white">
              {totalPokemon.toLocaleString()}
            </p>
            <p class="text-white/90 text-xs md:text-sm">Species discovered across all regions</p>
          </div>
        </div>

        <!-- Types -->
        <div class="bg-gradient-to-br from-pink-500 to-red-600 border-2 border-pink-400/30 dark:border-pink-400/50 rounded-2xl p-6 md:p-8 hover:border-pink-400/60 dark:hover:border-pink-400/80 transition-all duration-300 hover:scale-[1.02] shadow-lg hover:shadow-2xl">
          <div class="space-y-2">
            <p class="text-white/90 text-sm uppercase tracking-wider font-semibold">Types</p>
            <p class="text-5xl md:text-6xl font-black text-white">
              {pokemonTypes.length}
            </p>
            <p class="text-white/90 text-xs">Unique type categories</p>
          </div>
        </div>

        <!-- Generations -->
        <div class="bg-gradient-to-br from-green-500 to-emerald-600 border-2 border-green-400/30 dark:border-green-400/50 rounded-2xl p-6 md:p-8 hover:border-green-400/60 dark:hover:border-green-400/80 transition-all duration-300 hover:scale-[1.02] shadow-lg hover:shadow-2xl">
          <div class="space-y-2">
            <p class="text-white/90 text-sm uppercase tracking-wider font-semibold">Generations</p>
            <p class="text-5xl md:text-6xl font-black text-white">
              {generations.length}
            </p>
            <p class="text-white/90 text-xs">Pok√©mon generations</p>
          </div>
        </div>

        <!-- Fun Fact Card - Spans 2 columns -->
        <div class="col-span-2 bg-gradient-to-br from-yellow-500 to-orange-600 border-2 border-yellow-400/30 dark:border-yellow-400/50 rounded-2xl p-6 md:p-8 hover:border-yellow-400/60 dark:hover:border-yellow-400/80 transition-all duration-300 shadow-lg hover:shadow-2xl">
          <div class="space-y-3">
            <p class="text-white/90 text-sm uppercase tracking-wider font-semibold">üí° Did You Know?</p>
            <p class="text-base md:text-lg text-white leading-relaxed">
              {randomFact}
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Access Categories -->
    <section class="space-y-6">
      <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900 dark:text-white">Browse by Category</h2>

      <!-- Types Grid -->
      <div>
        <h3 class="text-xl md:text-2xl font-semibold mb-4 text-gray-900 dark:text-white">Pok√©mon Types</h3>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-3">
          {pokemonTypes.map((type) => (
            <a
              href={`/type/${type}`}
              class="group relative overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-xl p-4 text-center hover:border-[#3466AF] dark:hover:border-[#3466AF] hover:from-gray-200 hover:to-gray-300 dark:hover:from-gray-600 dark:hover:to-gray-700 transition-all duration-300 hover:scale-105 shadow-md hover:shadow-xl"
            >
              <span class="text-sm md:text-base font-semibold capitalize text-gray-900 dark:text-white group-hover:text-[#3466AF] dark:group-hover:text-[#3466AF] transition-colors">
                {type}
              </span>
            </a>
          ))}
        </div>
      </div>

      <!-- Generations Grid -->
      <div>
        <h3 class="text-xl md:text-2xl font-semibold mb-4 text-gray-900 dark:text-white">By Generation</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
          {generations.map((gen, index) => (
            <a
              href={`/generation/${index + 1}`}
              class="group bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-xl p-6 hover:border-[#3466AF] dark:hover:border-[#3466AF] hover:from-gray-200 hover:to-gray-300 dark:hover:from-gray-600 dark:hover:to-gray-700 transition-all duration-300 hover:scale-[1.02] shadow-md hover:shadow-xl"
            >
              <div class="space-y-1">
                <p class="text-lg font-bold text-gray-900 dark:text-white group-hover:text-[#3466AF] dark:group-hover:text-[#3466AF] transition-colors">
                  {gen.name}
                </p>
                <p class="text-sm text-gray-600 dark:text-gray-300">
                  {gen.region} Region
                </p>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  </div>
</Layout>
